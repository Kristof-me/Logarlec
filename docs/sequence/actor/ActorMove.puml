@startuml ActorMove
header Actor move

hide footbox
autoactivate on

actor A as "Controller"
participant G as "actor : Actor"
participant C as "state : ActionState"
participant D as "door: Door"
participant E as "roomFrom : Room"
participant B as "professor : Professor"
participant F as "roomTo : Room"

A -> G : move(door)
G -> B : move(door)
B -> C : move(door)
C -> D : leadsTo(roomFrom)
return roomTo
C -> F : enter(actor)
ref over B, F : Apply Room Effects
return isSuccessful
opt isSuccessful
    C -> E : leave(actor)
    return    
    C -> F : attack(professor)
    ref over B, F : Attack Room
    return
end

return
return
return

@enduml